# JVM이란 무엇인가
JVM 이란 Java Virtual Machine의 줄임말로 자바를 실행하기 위한 가상 컴퓨터라고 할 수 있다.  
기존의 언어들과 달리 Java의 경우 한번 작성되면 운영체제와 하드웨어에 관계없이 실행가능한데 이는 JVM이 있어 가능하다.  
자바 응용프로그램의 경우 운영체제나 하드웨어가 아닌 JVM하고만 통신을 하고 JVM이 자바 응용프로그램으로부터 전달받은 명령을 해당 운영체제가 이해할 수 있도록 변환하여 전달한다.  
JVM의 작동 방식은 다음과 같다.  
![IMG_65D0E20C5F50-1](https://user-images.githubusercontent.com/110332047/184537472-8be46ea2-7902-489d-99d8-99306f39f2a9.jpeg)
___
### JVM의 메모리 구조
![IMG_458A95947912-1](https://user-images.githubusercontent.com/110332047/184537706-0763fae2-d595-459f-b11a-862f55aadd1d.jpeg)
응용프로그램이 실행되면, JVM은 시스템으로부터 프로그램을 수행하는데 필요한 메모리를 할당받고 JVM은 이 메모리를 용도에 따라 여러 영역으로 나누어 관리한다.  
그 중 3가지 주요영역은 위 그림과 같다.  
1. Method area
프로그램 실행 중 어떤 클래스가 사용되면, JVM은 해당 클래스의 클래스파일(*.class)을 읽어서 분석하여 클래스에 대한 정보를 이곳에 저장한다. 이 때, 그 클래스의 클래스 변수도 이 영역에 함께 생성된다.
2. Heap 
인스턴스가 생성되는 공간으로 프로그램 실행 중 생성되는 인스턴스는 모두 이 곳에 생성된다. 인스턴스 변수들이 생성되는 공간이다. 
3. 호출스택(call stack)
호출 스택은 메서드의 작업에 필요한 메모리 공간을 제공한다. 메서드가 호출되면 호출스택에 호출된 메서드를 위한 메모리가 할당되며, 이 메모리는 메서드가 작업을 수행하는 동안 지역변수(매개변수 포함)들과
연산의 중간결과 등을 저장하는데 사용된다. 그리고 메서드가 작업을 마치면 할당되었던 메모리 공간은 반환되어 지워진다. 

JVM은 각 메서드를 위한 메모리상의 작업공간은 소로 구별되며, 첫 번째로 호출된 메서드를 위한 작업공간이 호출스택의 맨 밑에 마련되고, 첫 번째 메서드 수행 중에 다른 메서드를 호출하면, 첫 째 메서드의
바로 위에 두 번째로 호출된 메서드를 위한 공간이 마련된다. **이 때 첫 번째 메서드는 수행을 멈추고 두 번째 메서드가 수행되기 시작한다.** 두번째로 호출된 메서드가 수행을 마치게 되면, 두번째
메서드를 위해 제공되었던 호출스택의 메모리공간이 반환되며, 첫 째 메서드는 다시 수행을 계속 하게 된다. 첫 번째 메서드가 수행을 마치면, 역시 제공되었던 메모리 공간이 호출스택에서 제거되며 호출스택은
완전히 비워지게 된다.  
호출스택의 특징을 요약하자면 다음과 같다.
- 메서드가 호출되면 수행에 필요한 만큼의 메모리를 스택에 할당받는다.
- 메서드가 수행을 마치고 나면 사용했던 메모리를 반환하고 스택에서 제거된다.
- 호출스택의 제일 위에 있는 메서드가 현재 실행 인 메서드이다.
- 아래에 있는 메서드가 바로 위의 메서드를 호출한 메서드이다. 
